<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>为地图设置投影</title>
  <link rel="stylesheet" href="./res/css/leaflet.css" />
  <link rel="stylesheet" href="./res/css/iclient-leaflet.css" />
  <script type="text/javascript" src="./res/js/leaflet.js"></script>
  <script type="text/javascript" src="./res/js/iclient-leaflet.js"></script>
</head>
<body>
  <div id="map" style="position:absolute;left:0px;right:0px;width:800px;height:500px;"></div>

  <script>
    /**
     * SuperMap iClient for Leafet通过投影类L.Proj.CRS可以方便的定义地图投影，支持设置范围、
     * 原点、比例尺数组以及分辨率数组。
     * 
     **/ 

    var url ="https://iserver.supermap.io/iserver/services/map-world/rest/maps/World";

    let crs = L.Proj.CRS('EPSG:4326', {
      origin: [114.59, 42.31],
      scaleDenominators: [100000, 50000, 25000, 20000, 10000, 5000, 2000, 1000, 500, 200, 100, 50, 20, 1]
    })

    //初始化地图信息
    let map = L.map('map', {
      crs: crs,
      // crs: L.CRS.EPSG4326,
      center: [39.79, 116.85],
      maxZoom: 18,
      zoom: 1
    })

    //添加图层
    L.supermap.tiledMapLayer(url).addTo(map)

  </script>
</body>
</html>